<div class="container">
  <h2>Edit</h2>
  <form method="POST" action="/resources/update">
    <div class="form-horizontal">
      <h4>Refuge Resource</h4>
      <hr />
      <input name="resourceid" type="hidden" value="{{resource.id}}"/>
      <div class="form-group">
        <label class="col-md-2 control-label">Name</label>
        <div class="col-md-10">
          <input name="name" value="{{resource.name}}" class="form-control" />
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-2 control-label">Ariabic Name</label>
        <div class="col-md-10">
          <input name="ariabicName" value="{{resource.ariabicName}}" class="form-control" />
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-2 control-label">Latitude</label>
        <div class="col-md-10">
          <input name="latitude" value="{{resource.latitude}}" class="form-control" />
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-2 control-label">Longitude</label>
        <div class="col-md-10">
          <input name="longitude" value="{{resource.longitude}}" class="form-control" />
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-2 control-label">Primary Type</label>
        <div class="col-md-10">
          <select id="primaryType" name="primaryType" value="{{resource.primaryType}}" class="form-control">
            {{#each types}}
            <option>{{this.dataValues.name}}</option>
            {{/each}}
          </select>
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-2 control-label">Types</label>
        <div class="col-md-10">
          <select multiple name="types" id="types" class="form-control">
            {{#each types}}
              {{#neq this.dataValues.name ../resource.primaryType}}
                <option>{{this.dataValues.name}}</option>
              {{/neq}}
            {{/each}}
          </select>
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-2 control-label">Address</label>
        <div class="col-md-10">
          <textarea name="address" class="form-control" rows="3">{{resource.address}}</textarea>
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-2 control-label">Ariabic Address</label>
        <div class="col-md-10">
          <textarea name="ariabicAddress" class="form-control" rows="3">{{resource.ariabicAddress}}</textarea>
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-2 control-label">Phone</label>
        <div class="col-md-10">
          <input name="phone" value="{{resource.phone}}" class="form-control" />
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-2 control-label">Notes</label>
        <div class="col-md-10">
          <textarea name="notes" class="form-control" rows="3">{{resource.notes}}</textarea>
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-2 control-label">Ariabic Notes</label>
        <div class="col-md-10">
          <textarea name="ariabicNotes" class="form-control" rows="3">{{resource.ariabicNotes}}</textarea>
        </div>
      </div>

      <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
          <input type="submit" value="Edit" class="btn btn-primary" />
        </div>
      </div>
    </div>
  </form>
  <div>
    <a href="/resources/index" class="btn btn-default col-md-offset-2">Back to List</a>
  </div>
</div>
<script>
  $("#primaryType").val("{{resource.primaryType}}");
  $("#types").val("{{resource.types}}".split(", "));
</script>
